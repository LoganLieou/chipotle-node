<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: add_bag.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: add_bag.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Adds an order to your bag, this is very much so still a WIP
 * 
 * @param {string} orderId 
 */
async function addToBag(orderId) { 
  var etag = "10034f5f-0000-0300-0000-673fd94a0000" // TODO how do we init this etag

  const myHeaders = new Headers();
  myHeaders.append("Ocp-Apim-Subscription-Key", "b4d9f36380184a3788857063bce25d6a");
  myHeaders.append("If-Match", etag);
  myHeaders.append("Content-Type", "application/json");

  const raw = JSON.stringify({
    "meal": {
      "mealName": "Big Meal",
      "entrees": [
        {
          "menuItemId": "CMG-101",
          "menuItemName": "Chicken Bowl",
          "quantity": 1,
          "contents": [
            {
              "menuItemId": "CMG-5052",
              "menuItemName": "Pinto Beans",
              "quantity": 1,
              "isUpSell": false
            },
            {
              "menuItemId": "CMG-5252",
              "menuItemName": "Cheese",
              "quantity": 1,
              "isUpSell": false
            },
            {
              "menuItemId": "CMG-5201",
              "menuItemName": "Fresh Tomato Salsa",
              "quantity": 1,
              "isUpSell": false
            },
            {
              "menuItemId": "CMG-5101",
              "menuItemName": "Fajita Veggies",
              "quantity": 1,
              "isUpSell": false
            },
            {
              "menuItemId": "CMG-5202",
              "menuItemName": "Roasted Chili-Corn Salsa",
              "quantity": 1,
              "isUpSell": false
            },
            {
              "menuItemId": "CMG-5002",
              "menuItemName": "Brown Rice",
              "quantity": 1,
              "isUpSell": false
            }
          ]
        }
      ],
      "sides": [],
      "drinks": []
    }
  })

  const requestOptions = {
    method: "POST",
    headers: myHeaders,
    body: raw,
    redirect: "follow"
  }

  fetch(`https://services.chipotle.com/order/v3/cart/online/${orderId}/meals`, requestOptions)
    .then((response) => response.json())
    .then((result) => {
      etag = result.headers.get('ETag')
      console.log("ETag: ", etag)
      console.log("Successfully placed order")
    })
    .catch((error) => console.error(error))
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Chipotle.html">Chipotle</a></li></ul><h3>Global</h3><ul><li><a href="global.html#addToBag">addToBag</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Fri Nov 22 2024 11:37:46 GMT-0600 (Central Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
